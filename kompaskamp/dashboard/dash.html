<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Kompas Kampus</title>
    
    <!-- Dependencies -->
    <script src="https://unpkg.com/alpinejs" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/dash.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <style>
        
    </style>
</head>
<body x-data="{ sidebarOpen: false }">
<!-- Header -->
<header class="fixed w-full bg-white shadow-lg z-50">
    <div class="flex justify-between items-center px-6 py-3">
        <div class="flex items-center space-x-4">
            <button @click="sidebarOpen = !sidebarOpen" 
                    class="p-2 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200">
                <div class="w-6 h-5 flex flex-col justify-between">
                    <span class="w-full h-0.5 bg-gray-600 rounded-full transition-all duration-200"
                          :class="{'rotate-45 translate-y-2': sidebarOpen}"></span>
                    <span class="w-full h-0.5 bg-gray-600 rounded-full transition-all duration-200"
                          :class="{'opacity-0': sidebarOpen}"></span>
                    <span class="w-full h-0.5 bg-gray-600 rounded-full transition-all duration-200"
                          :class="{'-rotate-45 -translate-y-2': sidebarOpen}"></span>
                </div>
            </button>
            <div class="flex items-center">
                <img src="logohet.jpg" alt="Logo" class="h-12 w-auto">
                <span class="ml-3 text-xl font-bold">
                    <span class="text-blue-600">Kompas</span>
                    <span style="color: #ffff00">Kampus</span>
                </span>
            </div>
        </div>
            <!-- Desktop Navigation -->
            <nav class="hidden md:flex items-center space-x-6">
                <a href="home.html" class="text-gray-700 hover:text-blue-600">Home</a>
                <a href="../about/about.html" class="text-gray-700 hover:text-blue-600">About Us</a>
                <a href="../news/news.html" class="text-gray-700 hover:text-blue-600">News</a>
            </nav>

            <!-- User Menu -->
            <div class="flex items-center space-x-4">
                <div class="relative" x-data="{ isOpen: false }">
                    <button @click="isOpen = !isOpen" 
                            class="flex items-center space-x-3 bg-white p-2 rounded-lg hover:bg-gray-50">
                        <img src="avatar.jpg" alt="Profile" class="w-10 h-10 rounded-full border-2 border-blue-500">
                        <div class="hidden md:block text-left">
                            <p id="user-fullname" class="font-semibold text-gray-800"></p>
                            <p class="text-sm text-gray-500">Student</p>
                        </div>
                        <i class="fas fa-chevron-down text-gray-400"></i>
                    </button>
                    <!-- Changed dropdown implementation -->
                    <div x-show="isOpen" 
                         x-transition:enter="transition ease-out duration-200"
                         x-transition:enter-start="opacity-0 scale-95"
                         x-transition:enter-end="opacity-100 scale-100"
                         x-transition:leave="transition ease-in duration-75"
                         x-transition:leave-start="opacity-100 scale-100"
                         x-transition:leave-end="opacity-0 scale-95"
                         @click.away="isOpen = false"
                         class="absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50">
                        <div class="px-4 py-3 border-b border-gray-100">
                            <p id="dropdown-fullname" class="font-semibold text-gray-800"></p>
                            <p id="dropdown-email" class="text-sm text-gray-500"></p>
                        </div>
                        <a href="profile.html" class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-50">
                            <i class="fas fa-user-circle text-gray-600"></i>
                            <span>My Profile</span>
                        </a>
                        
                        <a href="../dashboard/php/logout.php" class="flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar - Updated with overlay -->
    <div class="relative z-40 md:hidden" 
         x-show="sidebarOpen" 
         @click.away="sidebarOpen = false">
        <!-- Overlay -->
        <div class="fixed inset-0 bg-gray-600 bg-opacity-75" 
             x-show="sidebarOpen"
             x-transition:enter="transition-opacity ease-linear duration-300"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="transition-opacity ease-linear duration-300"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0"></div>

        <!-- Sidebar -->
        <aside class="fixed inset-y-0 left-0 max-w-xs w-full bg-white shadow-lg transform transition duration-300 ease-in-out"
               :class="{'translate-x-0': sidebarOpen, '-translate-x-full': !sidebarOpen}">
            <!-- Existing sidebar content -->
            <nav class="p-4 space-y-2 mt-20">
                <a href="#" class="flex items-center space-x-3 p-3 rounded-xl transition-all duration-300"
                   :class="{'bg-gradient-to-r from-indigo-600 to-purple-600 text-white': true}">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                
                <!-- Updated menu items with additional features -->
                <a href="latsol.html" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                    <i class="fas fa-book"></i>
                    <span>Latihan Soal</span>
                </a>

                <a href="rekprodi.html" class="flex items-center justify-between p-3 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-chart-pie"></i>
                        <span>Rekomendasi Prodi</span>
                    </div>
                </a>

                <a href="../expstud/explore.html" class="flex items-center justify-between p-3 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-university"></i>
                        <span>Info Prodi</span>
                    </div>
                    <span class="bg-purple-100 text-purple-600 text-xs px-2 py-1 rounded-full">New</span>
                </a>
                
                <a href="infobeasiswa.html" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Info Beasiswa</span>
                </a>
                <a href="feedback.html" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                    <i class="fas fa-comment"></i>
                    <span>Feedback</span>
                </a>
            </nav>
        </aside>
    </div>

    <!-- Desktop Sidebar -->
    <aside class="hidden md:block fixed left-0 top-0 h-full shadow-lg pt-20 bg-white" 
           :class="{'translate-x-0': sidebarOpen, '-translate-x-full': !sidebarOpen}">
        <!-- Existing sidebar content -->
        <nav class="p-4 space-y-2">
            <a href="#" class="flex items-center space-x-3 p-3 rounded-xl transition-all duration-300"
               :class="{'bg-gradient-to-r from-indigo-600 to-purple-600 text-white': true}">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </a>
            
            <!-- Updated menu items with additional features -->
            <a href="latsol.html" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                <i class="fas fa-book"></i>
                <span>Latihan Soal</span>
            </a>

            <a href="rekprodi.html" class="flex items-center justify-between p-3 rounded-lg hover:bg-gray-100">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-chart-pie"></i>
                    <span>Rekomendasi Prodi</span>
                </div>
            </a>

            <a href="../expstud/explore.html" class="flex items-center justify-between p-3 rounded-lg hover:bg-gray-100">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-university"></i>
                    <span>Info Prodi</span>
                </div>
                <span class="bg-purple-100 text-purple-600 text-xs px-2 py-1 rounded-full">New</span>
            </a>
            
            <a href="infobeasiswa.html" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                <i class="fas fa-graduation-cap"></i>
                <span>Info Beasiswa</span>
            </a>
            <a href="feedback.html" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100">
                <i class="fas fa-comment"></i>
                <span>Feedback</span>
            </a>
        </nav>
    </aside>

    <main class="main-content pt-20 p-6">
        <!-- Welcome Section -->
        <div class="card-dashboard p-8 mb-8 rounded-2xl animate-fade-in">
            <div class="flex justify-between items-center">
                <div>
                    <h1 id="welcome-message" class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600">
                        Selamat datang, John Doe!
                    </h1>
                    <p class="text-gray-600 mt-2">Mari temukan jurusan yang sesuai dengan potensi akademik dan nilai keislamanmu</p>
                </div>
                <div class="hidden md:block">
                </div>
            </div>
        </div>

        <!-- Quick Actions Grid - adjust spacing -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <!-- Quick Assessment Button -->
            <a href="assessment.html" class="group bg-white rounded-xl p-6 shadow-sm hover:shadow-lg transition-all">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-indigo-100 rounded-full group-hover:bg-indigo-200 transition-colors">
                            <i class="fas fa-brain text-indigo-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Mulai Assessment</h3>
                            <p class="text-sm text-gray-600">Cari tahu potensimu</p>
                        </div>
                    </div>
                    <i class="fas fa-arrow-right text-indigo-600 group-hover:translate-x-1 transition-transform"></i>
                </div>
            </a>

            <!-- Practice Tests -->
            <a href="latsol.html" class="group bg-white rounded-xl p-6 shadow-sm hover:shadow-lg transition-all">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-green-100 rounded-full group-hover:bg-green-200 transition-colors">
                            <i class="fas fa-book text-green-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Latihan Soal</h3>
                            <p class="text-sm text-gray-600">24 soal tersedia</p>
                        </div>
                    </div>
                    <i class="fas fa-arrow-right text-green-600 group-hover:translate-x-1 transition-transform"></i>
                </div>
            </a>

            <!-- Program Info -->
            <a href="../expstud/explore.html" class="group bg-white rounded-xl p-6 shadow-sm hover:shadow-lg transition-all">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-purple-100 rounded-full group-hover:bg-purple-200 transition-colors">
                            <i class="fas fa-university text-purple-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Info Program Studi</h3>
                            <p class="text-sm text-gray-600">Explore 50+ program</p>
                        </div>
                    </div>
                    <i class="fas fa-arrow-right text-purple-600 group-hover:translate-x-1 transition-transform"></i>
                </div>
            </a>
        </div>

        <!-- Stats Grid - adjust spacing -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <!-- UPCM Readiness -->
            <div class="card-dashboard p-6">
                <div class="flex flex-col items-center text-center">
                    <div class="p-3 bg-blue-100 rounded-full mb-3">
                        <i class="fas fa-chart-line text-blue-600 text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-700">Kesiapan UPCM</h3>
                    <span id="upcm-readiness" class="text-3xl font-bold text-blue-600 mt-2">0%</span>
                    <p class="text-sm text-gray-600 mt-1">Berdasarkan Latihan Soal</p>
                </div>
            </div>

            <!-- Learning Progress -->
            <div class="card-dashboard p-6">
                <div class="flex flex-col items-center text-center">
                    <div class="p-3 bg-purple-100 rounded-full mb-3">
                        <i class="fas fa-book-reader text-purple-600 text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-700">Progress Belajar</h3>
                    <span class="text-3xl font-bold text-purple-600 mt-2">78%</span>
                    <p class="text-sm text-gray-600 mt-1">Materi Selesai</p>
                </div>
            </div>

            <!-- Total Tests -->
            <div class="card-dashboard p-6">
                <div class="flex flex-col items-center text-center">
                    <div class="p-3 bg-green-100 rounded-full mb-3">
                        <i class="fas fa-check-circle text-green-600 text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-700">Total Tests</h3>
                    <span class="text-3xl font-bold text-green-600 mt-2">24</span>
                    <p class="text-sm text-gray-600 mt-1">Completed Tests</p>
                </div>
            </div>
        </div>

        <!-- Two Column Layout - adjust spacing and make it compact -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Left Column -->
            <div class="content-wrapper">
                <!-- AI Analysis Card -->
                <div class="card-dashboard p-6">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="p-3 bg-indigo-100 rounded-xl">
                                <i class="fas fa-robot text-indigo-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">AI Analysis</h3>
                                <p class="text-gray-600">Based on your recent assessment</p>
                            </div>
                        </div>
                        <span class="px-3 py-1 bg-green-100 text-green-600 rounded-full text-sm font-medium">
                            95% Match
                        </span>
                    </div>
                    <!-- AI Analysis Content -->
                    <div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6">
                        <!-- Top Row -->
                        <div class="flex justify-between mb-6">
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-2">Your Profile: The Analyst</h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-2 py-1 bg-white rounded-full text-sm text-gray-600">Logis</span>
                                    <span class="px-2 py-1 bg-white rounded-full text-sm text-gray-600">Analitis</span>
                                    <span class="px-2 py-1 bg-white rounded-full text-sm text-gray-600">Sistematis</span>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-2">Key Skills</h4>
                                <div class="text-sm text-gray-600">
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-star text-yellow-400"></i>
                                        Technical Analysis
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-star text-yellow-400"></i>
                                        Problem Solving
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Bottom Row - Skill Bars -->
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-600">Technical Skills</span>
                                    <span class="text-sm font-medium text-indigo-600">92%</span>
                                </div>
                                <div class="h-2 bg-gray-200 rounded-full">
                                    <div class="h-2 bg-indigo-600 rounded-full" style="width: 92%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-600">Analytical Thinking</span>
                                    <span class="text-sm font-medium text-indigo-600">88%</span>
                                </div>
                                <div class="h-2 bg-gray-200 rounded-full">
                                    <div class="h-2 bg-indigo-600 rounded-full" style="width: 88%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-600">Problem Solving</span>
                                    <span class="text-sm font-medium text-indigo-600">85%</span>
                                </div>
                                <div class="h-2 bg-gray-200 rounded-full">
                                    <div class="h-2 bg-indigo-600 rounded-full" style="width: 85%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                <!-- Progress Summary - made more symmetrical -->
                <div class="card-dashboard p-6 h-full">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="p-2 bg-blue-100 rounded-full">
                            <i class="fas fa-tasks text-blue-600"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700">Progress Summary</h3>
                    </div>

                    <div class="grid gap-6">
                        <!-- Assessment Progress -->
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-medium text-gray-800 mb-4">Assessment Progress</h4>
                            <div class="grid gap-3">
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg"></div>
                                    <span class="text-gray-600">Career Assessment</span>
                                    <span class="px-3 py-1 bg-green-100 text-green-600 rounded-full text-sm">Completed</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <span class="text-gray-600">Learning Style Test</span>
                                    <span class="px-3 py-1 bg-yellow-100 text-yellow-600 rounded-full text-sm">In Progress</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <span class="text-gray-600">MBTI Test</span>
                                    <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-sm">Not Started</span>
                                </div>
                            </div>
                        </div>

                        <!-- Practice Test Stats -->
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-medium text-gray-700 mb-4">Practice Test Stats</h4>
                            <div class="grid gap-3">
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <span class="text-gray-600">Tests Completed</span>
                                    <span class="font-medium">24/30</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <span class="text-gray-600">Average Score</span>
                                    <span class="font-medium">85%</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <span class="text-gray-600">Time Spent</span>
                                    <span class="font-medium">12.5 hours</span>
                                </div>
                            </div>
                        </div>

                        <!-- Next Steps -->
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-medium text-gray-700 mb-4">Recommended Next Steps</h4>
                            <div class="grid gap-3">
                                <div class="flex items-center space-x-3 p-3 bg-white rounded-lg">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                    <span class="text-gray-600">Complete MBTI Assessment</span>
                                </div>
                                <div class="flex items-center space-x-3 p-3 bg-white rounded-lg">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                    <span class="text-gray-600">Practice More Math Problems</span>
                                </div>
                                <div class="flex items-center space-x-3 p-3 bg-white rounded-lg">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                    <span class="text-gray-600">Review Program Requirements</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="content-wrapper">
                <!-- Program Match Analysis -->
                <div class="card-dashboard p-6">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="p-2 bg-green-100 rounded-full">
                            <i class="fas fa-bullseye text-green-600"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700">Analisis Kecocokan Program</h3>
                    </div>
                    
                    <div id="programMatchChart" class="mb-6"></div>

                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 mb-3">Mengapa Teknik Informatika?</h4>
                        <ul class="space-y-3">
                            <li class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-green-500"></i>
                                <span class="text-sm">Kemampuan analitis yang kuat (88%)</span>
                            </li>
                            <li class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-green-500"></i>
                                <span class="text-sm">Logika matematika di atas rata-rata (92%)</span>
                            </li>
                            <li class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-green-500"></i>
                                <span class="text-sm">Minat tinggi di bidang teknologi</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Interest Distribution -->
                <div class="card-dashboard p-6">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="p-2 bg-purple-100 rounded-full">
                            <i class="fas fa-chart-pie text-purple-600"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700">Distribusi Minat</h3>
                    </div>

                    <div id="interestChart" class="mb-6"></div>

                    <!-- Replace the static career grid content with this dynamic version -->
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 mb-3">Prospek Karir</h4>
                        <div id="careerList" class="grid grid-cols-2 gap-3">
                            <!-- Career items will be populated dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Analysis - adjust spacing -->
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6">
            <!-- Study Statistics and Program Eligibility -->
            <div class="card-dashboard p-6 lg:col-span-4">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Study Statistics & Kelayakan Program Studi</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6">
                <!-- Study Statistics -->
                <div class="space-y-4">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h4 class="text-sm text-gray-600">Total Study Hours</h4>
                    <p class="text-2xl font-bold text-blue-600">48.5</p>
                    <span class="text-sm text-green-600">↑ 12% vs last week</span>
                </div>
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h4 class="text-sm text-gray-600">Practice Tests</h4>
                    <p class="text-2xl font-bold text-purple-600">24</p>
                    <span class="text-sm text-green-600">↑ 8% vs last week</span>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="text-sm text-gray-600">Avg. Score</h4>
                    <p class="text-2xl font-bold text-green-600">82%</p>
                    <span class="text-sm text-green-600">↑ 5% vs last week</span>
                </div>
                <div class="bg-yellow-50 p-4 rounded-lg">
                    <h4 class="text-sm text-gray-600">Study Streak</h4>
                    <p class="text-2xl font-bold text-yellow-600">5 days</p>
                    <span class="text-sm text-green-600">Personal best!</span>
                </div>
                </div>

                <!-- Program Eligibility -->
                <div class="space-y-4">
                <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="font-medium text-green-800">Program yang Sangat Sesuai</h4>
                    <p class="text-gray-600 mt-2">Nilai passing grade > 85%</p>
                    <ul class="mt-2 space-y-2">
                    <li class="flex justify-between items-center">
                        <span>Teknik Informatika</span>
                        <span class="font-medium text-green-600">92%</span>
                    </li>
                    <li class="flex justify-between items-center">
                        <span>Sistem Informasi</span>
                        <span class="font-medium text-green-600">88%</span>
                    </li>
                    </ul>
                </div>

                <div class="bg-yellow-50 p-4 rounded-lg">
                    <h4 class="font-medium text-yellow-800">Program yang Cukup Sesuai</h4>
                    <p class="text-gray-600 mt-2">Nilai passing grade 70-85%</p>
                    <ul class="mt-2 space-y-2">
                    <li class="flex justify-between items-center">
                        <span>Teknik Industri</span>
                        <span class="font-medium text-yellow-600">82%</span>
                    </li>
                    <li class="flex justify-between items-center">
                        <span>Manajemen</span>
                        <span class="font-medium text-yellow-600">75%</span>
                    </li>
                    </ul>
                </div>

                <div class="bg-red-50 p-4 rounded-lg">
                    <h4 class="font-medium text-red-800">Program yang Kurang Sesuai</h4>
                    <p class="text-gray-600 mt-2">Nilai passing grade < 70%</p>
                    <ul class="mt-2 space-y-2">
                    <li class="flex justify-between items-center">
                        <span>Kedokteran</span>
                        <span class="font-medium text-red-600">65%</span>
                    </li>
                    <li class="flex justify-between items-center">
                        <span>Farmasi</span>
                        <span class="font-medium text-red-600">62%</span>
                    </li>
                    </ul>
                </div>
                </div>
            </div>

            <!-- Subject Performance -->
            <div class="bg-white p-4 rounded-lg border border-gray-200">
                <h4 class="font-medium text-gray-800 mb-3">Subject Performance</h4>
                <div class="space-y-4">
                <div>
                    <div class="flex justify-between mb-1">
                    <span class="text-sm">Mathematics</span>
                    <span class="text-sm font-medium">92%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-blue-600 h-2 rounded-full" style="width: 92%"></div>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between mb-1">
                    <span class="text-sm">Islamic Studies</span>
                    <span class="text-sm font-medium">85%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-purple-600 h-2 rounded-full" style="width: 85%"></div>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between mb-1">
                    <span class="text-sm">English</span>
                    <span class="text-sm font-medium">78%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-green-600 h-2 rounded-full" style="width: 78%"></div>
                    </div>
                </div>
                </div>
            </div>
            </div>
        </div>
    
    </main>

    <script>
        const careers = {
            // Complete R combinations
            'RIA': ['Insinyur Penelitian & Pengembangan', 'Arsitek Teknikal', 'Teknisi Laboratorium', 'Desainer Produk Industrial'],
            'RIE': ['Insinyur Software', 'Data Scientist', 'Manajer Proyek IT', 'Konsultan Teknologi'],
            'RIC': ['Analis Sistem Teknis', 'Peneliti Keamanan Cyber', 'Spesialis Quality Control', 'Teknisi Sistem'],
            'RIS': ['Teknisi Medis', 'Insinyur Biomedis', 'Peneliti Lingkungan', 'Spesialis Keselamatan Kerja'],
            'RAI': ['Desainer Robotik', 'Teknisi Otomasi', 'Pengembang Prototipe', 'Insinyur Mekatronika'],
            'RAE': ['Desainer Produk', 'Kontraktor Independen', 'Pengembang Real Estate', 'Arsitek Lansekap'],
            'RAC': ['Teknisi Seni Digital', 'Spesialis CAD', 'Desainer Teknis', 'Teknisi Pencetakan 3D'],
            'RAS': ['Terapis Fisik', 'Instruktur Teknis', 'Spesialis Rehabilitasi', 'Teknisi Medis Senior'],
            'REI': ['Manajer Teknis', 'Direktur Operasional', 'Supervisor Produksi', 'Koordinator Proyek Teknis'],
            'REA': ['Manajer Proyek Konstruksi', 'Direktur Fasilitas', 'Pengembang Property', 'Supervisor Manufaktur'],
            'REC': ['Manajer Operasi', 'Supervisor Logistik', 'Koordinator Pemeliharaan', 'Manajer Proyek Teknis'],
            'RES': ['Koordinator Keselamatan', 'Supervisor Tim Teknis', 'Manajer Fasilitas Medis', 'Koordinator Pelatihan Teknis'],
            'RCI': ['Analis Kontrol Kualitas', 'Spesialis Kepatuhan Teknis', 'Inspektor Teknis', 'Auditor Sistem'],
            'RCA': ['Teknisi Seni Industri', 'Spesialis Desain Teknis', 'Koordinator Produksi Kreatif', 'Teknisi Multimedia'],
            'RCE': ['Manajer Kontrol Kualitas', 'Supervisor Pemeliharaan', 'Koordinator Operasional', 'Manajer Fasilitas'],
            'RCS': ['Teknisi Keselamatan', 'Koordinator Pemeliharaan Medis', 'Spesialis Kepatuhan K3', 'Inspektor Kesehatan'],
            'RSI': ['Peneliti Kesehatan Kerja', 'Spesialis Ergonomi', 'Teknisi Laboratorium Medis', 'Konsultan Keselamatan'],
            'RSA': ['Instruktur Teknis Kesehatan', 'Terapis Okupasional', 'Pelatih Rehabilitasi', 'Spesialis Alat Bantu'],
            'RSE': ['Manajer Keselamatan', 'Supervisor Kesehatan', 'Koordinator Teknis Medis', 'Direktur Fasilitas Medis'],
            'RSC': ['Koordinator Kepatuhan K3', 'Spesialis Prosedur Teknis', 'Pengawas Keselamatan', 'Auditor Kesehatan'],

            // Complete I combinations
            'IRA': ['Peneliti Pengembangan Produk', 'Ilmuwan Material', 'Peneliti Teknologi', 'Insinyur R&D'],
            'IRE': ['Peneliti Sistem', 'Ilmuwan Data', 'Manajer Riset Teknologi', 'Konsultan Teknis'],
            'IRC': ['Analis Sistem', 'Peneliti Keamanan', 'Spesialis Quality Assurance', 'Pengembang Protokol'],
            'IRS': ['Peneliti Medis', 'Ilmuwan Biomedis', 'Analis Kesehatan', 'Peneliti Ergonomi'],
            'IAR': ['Peneliti Desain', 'Ilmuwan Kreatif', 'Pengembang Media Interaktif', 'Peneliti UX'],
            'IAE': ['Peneliti Inovasi', 'Konsultan Desain', 'Pengembang Produk Kreatif', 'Direktur R&D'],
            'IAC': ['Peneliti UX/UI', 'Analis Desain Sistem', 'Spesialis Informasi Visual', 'Peneliti Media Digital'],
            'IAS': ['Peneliti Pendidikan', 'Pengembang Kurikulum', 'Konsultan Pembelajaran', 'Peneliti Psikologi Pendidikan'],
            'IER': ['Manajer Penelitian', 'Direktur Inovasi Teknis', 'Konsultan Teknologi Senior', 'Kepala Pengembangan'],
            'IEA': ['Direktur Pengembangan Produk', 'Manajer Inovasi Kreatif', 'Konsultan Strategi', 'Kepala R&D'],
            'IEC': ['Direktur Sistem Informasi', 'Manajer Proyek Teknologi', 'Konsultan IT Senior', 'Kepala Teknologi'],
            'IES': ['Direktur Pengembangan SDM', 'Konsultan Organisasi', 'Manajer Pelatihan Senior', 'Kepala Program'],
            'ICR': ['Analis Sistem Senior', 'Peneliti Keamanan IT', 'Spesialis Quality Control', 'Auditor Teknis'],
            'ICA': ['Arsitek Sistem Senior', 'Analis Desain', 'Peneliti UX Senior', 'Spesialis Dokumentasi Teknis'],
            'ICE': ['Manajer Sistem Senior', 'Direktur Operasi IT', 'Konsultan Sistem', 'Kepala Infrastruktur'],
            'ICS': ['Analis Kebijakan Senior', 'Peneliti Sistem Sosial', 'Koordinator Program Senior', 'Spesialis Compliance'],
            'ISR': ['Peneliti Kesehatan', 'Ilmuwan Sosial', 'Peneliti Keselamatan Kerja', 'Konsultan Ergonomi'],
            'ISA': ['Peneliti Psikologi', 'Konsultan Pendidikan', 'Peneliti Seni Terapi', 'Pengembang Program Sosial'],
            'ISE': ['Direktur Program Sosial', 'Manajer Penelitian Sosial', 'Konsultan Pengembangan', 'Kepala Program Komunitas'],
            'ISC': ['Analis Kebijakan Sosial', 'Peneliti Program', 'Koordinator Evaluasi', 'Spesialis Manajemen Data'],

            // Complete A combinations
            'AIR': ['Desainer UX/UI', 'Arsitek Digital', 'Seniman Teknis', 'Animator 3D'],
            'AIS': ['Terapis Seni', 'Desainer Pembelajaran', 'Konselor Kreatif', 'Pengembang Media Edukasi'],
            'AIE': ['Direktur Kreatif', 'Manajer Inovasi', 'Konsultan Desain', 'Pengembang Produk Kreatif'],
            'AIC': ['Desainer Sistem', 'Arsitek Informasi', 'Spesialis UX Research', 'Analis Desain'],
            'ARI': ['Desainer Produk', 'Arsitek', 'Seniman Digital', 'Pengembang Multimedia'],
            'ARE': ['Direktur Seni', 'Manajer Desain', 'Pengembang Kreatif', 'Supervisor Produksi Seni'],
            'ARC': ['Desainer Teknis', 'Ilustrator Teknis', 'Spesialis CAD', 'Koordinator Produksi Seni'],
            'ARS': ['Terapis Okupasional Kreatif', 'Instruktur Seni', 'Fasilitator Workshop', 'Koordinator Program Seni'],
            'AEI': ['Direktur Kreatif', 'Produser Eksekutif', 'Manajer Konten', 'Konsultan Media'],
            'AER': ['Manajer Produksi Kreatif', 'Direktur Artistik', 'Supervisor Desain', 'Koordinator Proyek Seni'],
            'AEC': ['Manajer Konten Digital', 'Produser Media', 'Koordinator Produksi', 'Direktur Program Kreatif'],
            'AES': ['Direktur Program Seni', 'Manajer Event Kreatif', 'Koordinator Workshop', 'Konsultan Program Budaya'],
            'ACI': ['Desainer UX Senior', 'Arsitek Informasi', 'Analis Media', 'Spesialis Dokumentasi Kreatif'],
            'ACR': ['Desainer Teknis Senior', 'Koordinator Produksi', 'Spesialis Media Teknis', 'Ilustrator Teknis Senior'],
            'ACE': ['Manajer Produksi Digital', 'Direktur Konten', 'Koordinator Media', 'Supervisor Proyek Kreatif'],
            'ACS': ['Koordinator Program Seni', 'Spesialis Media Edukasi', 'Fasilitator Kreatif', 'Administrator Program'],
            'ASI': ['Terapis Seni', 'Konselor Kreatif', 'Pengajar Seni', 'Spesialis Program Kreatif'],
            'ASR': ['Instruktur Seni Teknis', 'Terapis Okupasional', 'Koordinator Workshop', 'Fasilitator Program'],
            'ASE': ['Direktur Program Seni', 'Manajer Event Kreatif', 'Koordinator Program Budaya', 'Konsultan Pengembangan'],
            'ASC': ['Koordinator Program Kreatif', 'Administrator Seni', 'Spesialis Program', 'Fasilitator Workshop'],

            // Complete E combinations
            'EIR': ['Manajer Proyek IT', 'Konsultan Teknologi', 'Direktur Operasional', 'Supervisor Produksi'],
            'EIA': ['Manajer Inovasi', 'Konsultan Desain', 'Direktur Kreatif', 'Pengembang Produk Kreatif'],
            'EIC': ['Manajer Sistem', 'Konsultan IT', 'Direktur Operasi', 'Supervisor Infrastruktur'],
            'EIS': ['Manajer Pelatihan', 'Konsultan Organisasi', 'Direktur Pengembangan SDM', 'Kepala Program'],
            'EAR': ['Manajer Proyek Konstruksi', 'Direktur Fasilitas', 'Pengembang Real Estate', 'Supervisor Manufaktur'],
            'EAI': ['Manajer Inovasi', 'Konsultan Desain', 'Direktur Kreatif', 'Pengembang Produk Kreatif'],
            'EAC': ['Manajer Konten Digital', 'Produser Media', 'Koordinator Produksi', 'Direktur Program Kreatif'],
            'EAS': ['Direktur Program Seni', 'Manajer Event Kreatif', 'Koordinator Workshop', 'Konsultan Program Budaya'],
            'ECR': ['Manajer Operasi', 'Supervisor Logistik', 'Koordinator Pemeliharaan', 'Manajer Proyek Teknis'],
            'ECA': ['Manajer Produksi Digital', 'Direktur Konten', 'Koordinator Media', 'Supervisor Proyek Kreatif'],
            'ECS': ['Koordinator Program Seni', 'Spesialis Media Edukasi', 'Fasilitator Kreatif', 'Administrator Program'],
            'ESR': ['Koordinator Keselamatan', 'Supervisor Tim Teknis', 'Manajer Fasilitas Medis', 'Koordinator Pelatihan Teknis'],
            'ESA': ['Instruktur Teknis Kesehatan', 'Terapis Okupasional', 'Pelatih Rehabilitasi', 'Spesialis Alat Bantu'],
            'ESC': ['Koordinator Kepatuhan K3', 'Spesialis Prosedur Teknis', 'Pengawas Keselamatan', 'Auditor Kesehatan'],
            'SIR': ['Peneliti Kesehatan', 'Ilmuwan Sosial', 'Peneliti Keselamatan Kerja', 'Konsultan Ergonomi'],
            'SIA': ['Peneliti Psikologi', 'Konsultan Pendidikan', 'Peneliti Seni Terapi', 'Pengembang Program Sosial'],
            'SIE': ['Direktur Program Sosial', 'Manajer Penelitian Sosial', 'Konsultan Pengembangan', 'Kepala Program Komunitas'],
            'SIC': ['Analis Kebijakan Sosial', 'Peneliti Program', 'Koordinator Evaluasi', 'Spesialis Manajemen Data'],
            'SAR': ['Instruktur Seni Teknis', 'Terapis Okupasional', 'Koordinator Workshop', 'Fasilitator Program'],
            'SAI': ['Terapis Seni', 'Konselor Kreatif', 'Pengajar Seni', 'Spesialis Program Kreatif'],
            'SAE': ['Direktur Program Seni', 'Manajer Event Kreatif', 'Koordinator Program Budaya', 'Konsultan Pengembangan'],
            'SAC': ['Koordinator Program Kreatif', 'Administrator Seni', 'Spesialis Program', 'Fasilitator Workshop'],
            'SCR': ['Koordinator Program Seni', 'Spesialis Media Edukasi', 'Fasilitator Kreatif', 'Administrator Program'],
            'SCI': ['Desainer UX Senior', 'Arsitek Informasi', 'Analis Media', 'Spesialis Dokumentasi Kreatif'],
            'SCE': ['Manajer Produksi Digital', 'Direktur Konten', 'Koordinator Media', 'Supervisor Proyek Kreatif'],
            'SIR': ['Peneliti Kesehatan', 'Ilmuwan Sosial', 'Peneliti Keselamatan Kerja', 'Konsultan Ergonomi'],
            'SIA': ['Peneliti Psikologi', 'Konsultan Pendidikan', 'Peneliti Seni Terapi', 'Pengembang Program Sosial'],
            'SIE': ['Direktur Program Sosial', 'Manajer Penelitian Sosial', 'Konsultan Pengembangan', 'Kepala Program Komunitas'],
            'SIC': ['Analis Kebijakan Sosial', 'Peneliti Program', 'Koordinator Evaluasi', 'Spesialis Manajemen Data'],
            'SAR': ['Instruktur Seni Teknis', 'Terapis Okupasional', 'Koordinator Workshop', 'Fasilitator Program'],
            'SAI': ['Terapis Seni', 'Konselor Kreatif', 'Pengajar Seni', 'Spesialis Program Kreatif'],
            'SAE': ['Direktur Program Seni', 'Manajer Event Kreatif', 'Koordinator Program Budaya', 'Konsultan Pengembangan'],
            'SAC': ['Koordinator Program Kreatif', 'Administrator Seni', 'Spesialis Program', 'Fasilitator Workshop'],
            'SCR': ['Koordinator Program Seni', 'Spesialis Media Edukasi', 'Fasilitator Kreatif', 'Administrator Program'],
            'SCI': ['Desainer UX Senior', 'Arsitek Informasi', 'Analis Media', 'Spesialis Dokumentasi Kreatif'],
            'SCE': ['Manajer Produksi Digital', 'Direktur Konten', 'Koordinator Media', 'Supervisor Proyek Kreatif'],
        };

        // Add these new functions before DOMContentLoaded
        const getCareersByType = (personalityType) => {
            return careers[personalityType] || [];
        };

        const getInterestDistribution = (personalityType) => {
            if (!personalityType || personalityType.length !== 3) return null;
            
            // Calculate percentages based on position
            // First letter has highest weight (50%), second (30%), third (20%)
            const distribution = {
                R: 0, I: 0, A: 0, S: 0, E: 0, C: 0
            };

            distribution[personalityType[0]] = 50;
            distribution[personalityType[1]] = 30;
            distribution[personalityType[2]] = 20;

            return distribution;
        };

        document.addEventListener('DOMContentLoaded', () => {
            const fullname = sessionStorage.getItem('fullname');
            const email = sessionStorage.getItem('email');

            if (fullname && email) {
                document.getElementById('user-fullname').textContent = fullname;
                document.getElementById('dropdown-fullname').textContent = fullname;
                document.getElementById('dropdown-email').textContent = email;
                document.getElementById('welcome-message').textContent = `Selamat datang, ${fullname}!`;
            }

            // Mengambil poin UPCM dari database melalui oauth.php
            const fetchUPCMPoints = async () => {
                try {
                    const response = await fetch('php/oauth.php?action=get_points');
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const data = await response.json();
                    console.log('Data received:', data); // Tambah log untuk debugging
                    
                    const upcmElement = document.getElementById('upcm-readiness');
                    
                    if (data.status === 'success' && data.points !== null) {
                        // Update nilai dan warna
                        upcmElement.textContent = `${data.points}%`;
                        
                        // Hapus warna sebelumnya
                        upcmElement.classList.remove('text-blue-600', 'text-green-600', 'text-yellow-600', 'text-red-600');
                        
                        // Set warna berdasarkan nilai
                        if (data.points >= 80) {
                            upcmElement.classList.add('text-green-600');
                        } else if (data.points >= 60) {
                            upcmElement.classList.add('text-yellow-600');
                        } else {
                            upcmElement.classList.add('text-red-600');
                        }
                    } else {
                        console.error('Data error:', data); // Tambah log untuk debugging
                        upcmElement.textContent = '0%';
                        upcmElement.classList.add('text-red-600');
                    }
                } catch (error) {
                    console.error('Error fetching UPCM points:', error);
                    document.getElementById('upcm-readiness').textContent = '0%';
                }
            };

            // Panggil fungsi fetch
            fetchUPCMPoints();

            // Chart Configuration
            const chartConfig = {
                // Progress Chart
                progressChart: {
                    series: [{
                        name: 'Nilai Rata-rata',
                        data: [65, 75, 82, 78, 85]
                    }],
                    chart: {
                        type: 'line',
                        height: 250,
                        toolbar: { show: false },
                        fontFamily: 'Poppins, sans-serif'
                    },
                    colors: ['#4F46E5'],
                    xaxis: {
                        categories: ['Minggu 1', 'Minggu 2', 'Minggu 3', 'Minggu 4', 'Minggu 5']
                    }
                },

                // Program Match Chart
                programMatch: {
                    series: [{
                        name: 'Kecocokan',
                        data: [92, 85, 78, 65, 60]
                    }],
                    chart: {
                        type: 'bar',
                        height: 250,
                        toolbar: { show: false },
                        fontFamily: 'Poppins, sans-serif'
                    },
                    colors: ['#4F46E5'],
                    plotOptions: {
                        bar: {
                            borderRadius: 4,
                            horizontal: true
                        }
                    },
                    dataLabels: {
                        enabled: true,
                        formatter: (val) => `${val}%`
                    },
                    xaxis: {
                        categories: [
                            'Teknik Informatika',
                            'Teknik Elektro', 
                            'Teknik Industri',
                            'Teknik Mesin',
                            'Teknik Sipil'
                        ],
                        labels: {
                            formatter: (val) => `${val}%`
                        }
                    }
                }
            };

            // Initialize Charts
            new ApexCharts(
                document.querySelector("#progressChart"), 
                chartConfig.progressChart
            ).render();

            new ApexCharts(
                document.querySelector("#programMatchChart"), 
                chartConfig.programMatch
            ).render();

            // Smooth scroll behavior
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', (e) => {
                    e.preventDefault();
                    document.querySelector(anchor.getAttribute('href'))
                        .scrollIntoView({ behavior: 'smooth' });
                });
            });

            // Animation observer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('opacity-100');
                        entry.target.classList.remove('opacity-0');
                    }
                });
            });

            // Apply animations to dashboard cards
            document.querySelectorAll('.card-dashboard').forEach((el) => {
                el.classList.add('opacity-0', 'transition-opacity', 'duration-500');
                observer.observe(el);
            });

            // Add this new fetch call
            const fetchPersonalityType = async () => {
                try {
                    const response = await fetch('php/oauth.php?action=get_personality');
                    if (!response.ok) throw new Error('Network response was not ok');
                    const data = await response.json();
                    
                    if (data.status === 'success' && data.personalityType) {
                        const personalityType = data.personalityType;
                        const careers = getCareersByType(personalityType);
                        const distribution = getInterestDistribution(personalityType);

                        // Update interest distribution chart
                        if (distribution) {
                            const interestChartConfig = {
                                series: Object.values(distribution),
                                chart: {
                                    type: 'donut',
                                    height: 250,
                                    fontFamily: 'Poppins, sans-serif'
                                },
                                labels: [
                                    'Realistis (R)',
                                    'Investigatif (I)',
                                    'Artistik (A)',
                                    'Sosial (S)',
                                    'Enterprising (E)',
                                    'Konvensional (C)'
                                ],
                                colors: ['#4F46E5', '#7C3AED', '#06B6D4', '#3B82F6', '#10B981', '#F59E0B'],
                                tooltip: {
                                    y: {
                                        formatter: function(value) {
                                            return value + '%';
                                        }
                                    }
                                }
                            };

                            // Clear existing chart if any
                            document.querySelector("#interestChart").innerHTML = '';
                            
                            new ApexCharts(
                                document.querySelector("#interestChart"), 
                                interestChartConfig
                            ).render();
                        }

                        // Update career suggestions in the UI
                        const careerGrid = document.querySelector('.grid.grid-cols-2.gap-3');
                        if (careerGrid && careers.length > 0) {
                            // Map careers to appropriate icons
                            const careerIcons = {
                                'Software': 'code',
                                'Data': 'database',
                                'Mobile': 'mobile-alt',
                                'Peneliti': 'microscope',
                                'Manajer': 'tasks',
                                'Konsultan': 'comments',
                                'Desainer': 'pencil-ruler',
                                'Analis': 'chart-line',
                                'Teknisi': 'tools',
                                'Insinyur': 'cogs'
                            };

                            careerGrid.innerHTML = careers.map(career => {
                                const icon = Object.entries(careerIcons).find(([key]) => career.includes(key));
                                const iconClass = icon ? icon[1] : 'briefcase';
                                
                                return `
                                    <div class="flex items-center space-x-2 bg-white p-2 rounded-lg">
                                        <i class="fas fa-${iconClass} text-blue-600"></i>
                                        <span class="text-sm">${career}</span>
                                    </div>
                                `;
                            }).join('');
                        }

                        // Update personality type display
                        const typeDisplay = document.querySelector('.text-gray-800.mb-2');
                        if (typeDisplay) {
                            typeDisplay.textContent = `Your Profile: ${personalityType} Type`;
                        }
                    }
                } catch (error) {
                    console.error('Error fetching personality type:', error);
                }
            };

            // Initialize charts (without the static interest chart)
            new ApexCharts(
                document.querySelector("#progressChart"), 
                chartConfig.progressChart
            ).render();

            new ApexCharts(
                document.querySelector("#programMatchChart"), 
                chartConfig.programMatch
            ).render();

            // Call the fetch function
            fetchPersonalityType();
            fetchUPCMPoints();

            // ...rest of existing code...
        });
    </script>
</body>
</html>
